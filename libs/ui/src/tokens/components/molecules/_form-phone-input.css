@theme static {
  /* === BASE COLOR MAPPING === */
  /* Reference layer - single source of truth for theming */
  --color-phone-input: var(--color-surface);
  --color-phone-input-accent: var(--color-primary);
  --color-phone-input-success-fg: var(--color-success);
  --color-phone-input-warning-fg: var(--color-warning);
  --color-phone-input-danger-fg: var(--color-danger);

  /* === DERIVED COLORS === */
  /* Background colors */
  --color-phone-input-bg: var(--color-phone-input);
  --color-phone-input-bg-hover: oklch(
    from var(--color-phone-input) calc(l + var(--state-hover)) c h
  );
  --color-phone-input-bg-focus: oklch(
    from var(--color-phone-input) calc(l + var(--state-active)) c h
  );

  /* Foreground colors */
  --color-phone-input-fg: var(--color-fg-primary);
  --color-phone-input-fg-secondary: var(--color-fg-secondary);
  --color-phone-input-placeholder: --alpha(
    var(--color-phone-input-fg) /
    var(--opacity-placeholder)
  );

  /* Border colors */
  --color-phone-input-border: var(--color-border-primary);
  --color-phone-input-border-hover: oklch(
    from var(--color-phone-input-border) calc(l + var(--state-hover)) c h
  );
  --color-phone-input-border-focus: var(--color-phone-input-accent);
  --color-phone-input-divider: var(--color-border-secondary);

  /* === VALIDATION STATES === */
  --color-phone-input-border-danger: var(--color-phone-input-danger-fg);
  --color-phone-input-border-success: var(--color-phone-input-success-fg);
  --color-phone-input-border-warning: var(--color-phone-input-warning-fg);

  /* === DISABLED STATES === */
  --color-phone-input-bg-disabled: var(--color-bg-disabled);
  --color-phone-input-fg-disabled: var(--color-fg-disabled);
  --color-phone-input-border-disabled: var(--color-border-disabled);

  /* === DROPDOWN COLORS === */
  --color-phone-input-dropdown-bg: var(--color-phone-input);
  --color-phone-input-dropdown-border: var(--color-border-primary);
  --color-phone-input-item-fg: var(--color-phone-input-fg);
  --color-phone-input-item-bg-hover: var(--color-phone-input-bg-hover);
  --color-phone-input-item-bg-selected: var(--color-phone-input-bg-focus);

  /* === SPACING === */
  /* Root gaps per size */
  --spacing-phone-input-root-sm: var(--spacing-100);
  --spacing-phone-input-root-md: var(--spacing-150);
  --spacing-phone-input-root-lg: var(--spacing-200);

  /* Country trigger */
  --spacing-phone-input-country-gap: var(--spacing-100);
  --padding-phone-input-country-x: var(--spacing-200);

  /* Input */
  --padding-phone-input-x: var(--spacing-200);

  /* Dropdown items */
  --spacing-phone-input-item-gap: var(--spacing-150);
  --padding-phone-input-item-x: var(--spacing-200);
  --padding-phone-input-item-y: var(--spacing-150);

  /* === SIZING === */
  /* Control height per size */
  --size-phone-input-sm: var(--spacing-800);
  --size-phone-input-md: var(--spacing-900);
  --size-phone-input-lg: var(--spacing-1000);

  /* Flag icon sizes */
  --size-phone-input-flag-sm: var(--spacing-400);
  --size-phone-input-flag-md: var(--spacing-500);
  --size-phone-input-flag-lg: var(--spacing-600);

  /* Dropdown max height */
  --size-phone-input-dropdown-max-h: 18rem;

  /* === TYPOGRAPHY === */
  --text-phone-input-sm: var(--text-sm);
  --text-phone-input-md: var(--text-md);
  --text-phone-input-lg: var(--text-lg);

  /* === BORDERS & RADIUS === */
  --radius-phone-input: var(--radius-sm);

  /* === SHADOWS === */
  --shadow-phone-input-dropdown: var(--shadow-md);

  /* === FOCUS RINGS === */
  --color-phone-input-ring: var(--color-ring);

  /* === Z-INDEX === */
  --z-phone-input-dropdown: 50;
}

/* Semantic tokens for phone input icons */
@utility token-icon-phone-input-chevron {
  @apply icon-[mdi--chevron-down];
}

/*
 * Flag icons safelist - required for dynamic icon generation
 * These classes are used dynamically in FormPhoneInput as `icon-[flag--${code}-4x3]`
 * Tailwind needs static references to include them in the build
 * Using flag icon set with 4x3 aspect ratio: https://icon-sets.iconify.design/flag/
 */
@utility token-icon-flag-cz {
  @apply icon-[flag--cz-4x3];
}
@utility token-icon-flag-sk {
  @apply icon-[flag--sk-4x3];
}
@utility token-icon-flag-de {
  @apply icon-[flag--de-4x3];
}
@utility token-icon-flag-at {
  @apply icon-[flag--at-4x3];
}
@utility token-icon-flag-pl {
  @apply icon-[flag--pl-4x3];
}
@utility token-icon-flag-us {
  @apply icon-[flag--us-4x3];
}
@utility token-icon-flag-gb {
  @apply icon-[flag--gb-4x3];
}
@utility token-icon-flag-ca {
  @apply icon-[flag--ca-4x3];
}
